[gd_scene load_steps=11 format=3 uid="uid://ddsk8ae4ansxg"]

[ext_resource type="Script" path="res://Scripts/battlefield.gd" id="1_pgm47"]
[ext_resource type="PackedScene" uid="uid://bpkhmw5hdmf38" path="res://Scenes/central_cube.tscn" id="1_tkkmv"]
[ext_resource type="PackedScene" uid="uid://cfvmx5and5r7v" path="res://Scenes/Enemy/enemy_basic.tscn" id="2_12ow2"]
[ext_resource type="PackedScene" uid="uid://ws51o2u8v4g4" path="res://Scenes/Tiles/tile_map.tscn" id="3_uxf0t"]
[ext_resource type="PackedScene" uid="uid://coie1aygnfdx3" path="res://Scenes/ui.tscn" id="4_l0cx7"]
[ext_resource type="AudioStream" uid="uid://dw31o0e48joux" path="res://Assets/Audio/Battlefield/17 - Fight.ogg" id="6_6pkog"]

[sub_resource type="Curve2D" id="Curve2D_y1b60"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -6, -36, 0, 0, 0, 0, 276, -88, 0, 0, 0, 0, 390, -66, 0, 0, 0, 0, 545, -122, 0, 0, 0, 0, 983, -24)
}
point_count = 5

[sub_resource type="Curve2D" id="Curve2D_nij8p"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 59, 796, 0, 0, 0, 0, 283, 801, 0, 0, 0, 0, 424, 729, 0, 0, 0, 0, 634, 820, 0, 0, 0, 0, 901, 807, 0, 0, 0, 0, 988, 762)
}
point_count = 6

[sub_resource type="Curve2D" id="Curve2D_0u8dg"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -214, 604, 0, 0, 0, 0, -219, 490, 0, 0, 0, 0, -269, 376, 0, 0, 0, 0, -208, 257, 0, 0, 0, 0, -169, 112)
}
point_count = 5

[sub_resource type="Curve2D" id="Curve2D_awery"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 1314, 24, 0, 0, 0, 0, 1291, 101, 0, 0, 0, 0, 1368, 212, 0, 0, 0, 0, 1313, 335, 0, 0, 0, 0, 1281, 463, 0, 0, 0, 0, 1349, 578)
}
point_count = 6

[node name="Battlefield" type="Node2D"]
script = ExtResource("1_pgm47")
enemy_scene = ExtResource("2_12ow2")

[node name="TileMapLayer" parent="." instance=ExtResource("3_uxf0t")]

[node name="Main" type="Node" parent="."]

[node name="StartTimer" type="Timer" parent="Main"]
unique_name_in_owner = true
wait_time = 0.1
one_shot = true

[node name="Middle" type="Node" parent="."]

[node name="CentralCube" parent="Middle" instance=ExtResource("1_tkkmv")]
unique_name_in_owner = true
scale = Vector2(0.75, 0.75)

[node name="North" type="Node" parent="."]

[node name="NorthSpawnTimer" type="Timer" parent="North"]
unique_name_in_owner = true
wait_time = 5.0

[node name="NorthSpawn" type="Path2D" parent="North"]
unique_name_in_owner = true
position = Vector2(81, -100)
curve = SubResource("Curve2D_y1b60")

[node name="NorthSpawnLocation" type="PathFollow2D" parent="North/NorthSpawn"]
unique_name_in_owner = true
position = Vector2(-6, -36)
rotation = -0.182349

[node name="South" type="Node" parent="."]

[node name="SouthSpawnTimer" type="Timer" parent="South"]
unique_name_in_owner = true
wait_time = 5.0

[node name="SouthSpawn" type="Path2D" parent="South/SouthSpawnTimer"]
unique_name_in_owner = true
curve = SubResource("Curve2D_nij8p")

[node name="SouthSpawnLocation" type="PathFollow2D" parent="South/SouthSpawnTimer/SouthSpawn"]
unique_name_in_owner = true
position = Vector2(59, 796)
rotation = 0.0223177

[node name="West" type="Node" parent="."]

[node name="WestSpawnTimer" type="Timer" parent="West"]
unique_name_in_owner = true
wait_time = 5.0

[node name="WestSpawn" type="Path2D" parent="West/WestSpawnTimer"]
unique_name_in_owner = true
curve = SubResource("Curve2D_0u8dg")

[node name="WestSpawnLocation" type="PathFollow2D" parent="West/WestSpawnTimer/WestSpawn"]
unique_name_in_owner = true
position = Vector2(-214, 604)
rotation = -1.61463

[node name="East" type="Node" parent="."]

[node name="EastSpawnTimer" type="Timer" parent="East"]
unique_name_in_owner = true
wait_time = 5.0

[node name="EastSpawn" type="Path2D" parent="East/EastSpawnTimer"]
unique_name_in_owner = true
curve = SubResource("Curve2D_awery")

[node name="EastSpawnLocation" type="PathFollow2D" parent="East/EastSpawnTimer/EastSpawn"]
unique_name_in_owner = true
position = Vector2(1314, 24)
rotation = 1.86106

[node name="UI" parent="." instance=ExtResource("4_l0cx7")]

[node name="Audio" type="Node" parent="."]

[node name="BackgroundMusic" type="AudioStreamPlayer" parent="Audio"]
stream = ExtResource("6_6pkog")
volume_db = -25.0
autoplay = true

[node name="GameTimer" type="Node" parent="."]

[node name="GameTimerLabel" type="RichTextLabel" parent="GameTimer"]
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -100.0
offset_top = 20.0
offset_right = 100.0
offset_bottom = 60.0
grow_horizontal = 2
text = "GameTimer"

[connection signal="timeout" from="Main/StartTimer" to="." method="_on_start_timer_timeout"]
[connection signal="timeout" from="North/NorthSpawnTimer" to="." method="_on_north_spawn_timer_timeout"]
[connection signal="timeout" from="South/SouthSpawnTimer" to="." method="_on_south_spawn_timer_timeout"]
[connection signal="timeout" from="West/WestSpawnTimer" to="." method="_on_west_spawn_timer_timeout"]
[connection signal="timeout" from="East/EastSpawnTimer" to="." method="_on_east_spawn_timer_timeout"]
